(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{14:function(t,e,o){"use strict";o.r(e);var c,n=o(1),i=o.n(n),d=o(6),a=o.n(d),r=o(7),s=o(0),O=function(t){var e=t.addTodo,o=(t.todoList,Object(n.useRef)(null));return Object(s.jsxs)("div",{className:"todo-input",children:[Object(s.jsx)("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5f85\u529e\u4e8b\u9879",ref:o}),Object(s.jsx)("button",{onClick:function(){var t=o.current.value.trim();t.length&&(e({id:(new Date).getTime(),content:t,completed:!1}),o.current.value="")},children:"\u589e\u52a0"})]})},u=function(t){var e=t.todo,o=t.toggleTodo,c=t.removeTodo,n=e.id,i=e.content,d=e.completed;return Object(s.jsxs)("div",{className:"todo-item",children:[Object(s.jsx)("input",{type:"checkbox",checked:d,onChange:function(){return o(n)}}),Object(s.jsx)("span",{style:{textDecoration:d?"line-through":"none"},children:i}),Object(s.jsx)("button",{onClick:function(){return c(n)},children:"\u5220\u9664"})]})},l=function(t){var e=t.todoList,o=t.toggleTodo,c=t.removeTodo;return Object(s.jsx)("div",{className:"td-list",children:e&&e.map((function(t){return Object(s.jsx)(u,{todo:t,toggleTodo:o,removeTodo:c},t.id)}))})},j=o(8),b=o(2);function T(t,e){var o=e.type,n=e.payload;switch(o){case c.INIT_TODOLIST:return Object(b.a)(Object(b.a)({},t),{},{todoList:n});case c.ADD_TODO:return Object(b.a)(Object(b.a)({},t),{},{todoList:[].concat(Object(j.a)(t.todoList),[n])});case c.REMOVE_TODO:return Object(b.a)(Object(b.a)({},t),{},{todoList:t.todoList.filter((function(t){return t.id!==n}))});case c.TOGGLE_TODO:return Object(b.a)(Object(b.a)({},t),{},{todoList:t.todoList.map((function(t){return t.id===n?Object(b.a)(Object(b.a)({},t),{},{completed:!t.completed}):t}))});default:return t}}function f(t){return{todoList:t}}!function(t){t.ADD_TODO="addTodo",t.REMOVE_TODO="removeTodo",t.TOGGLE_TODO="toggleTodo",t.INIT_TODOLIST="initTodoList"}(c||(c={}));var p="ts+hooks\u5f00\u53d1todoList\u6d4b\u8bd5",g=function(){var t=Object(n.useReducer)(T,[],f),e=Object(r.a)(t,2),o=e[0],i=e[1];Object(n.useEffect)((function(){console.log(123);var t=JSON.parse(localStorage.getItem(p)||"[]");i({type:c.INIT_TODOLIST,payload:t})}),[]),Object(n.useEffect)((function(){console.log("abc"),localStorage.setItem(p,JSON.stringify(o.todoList))}),[o.todoList]);var d=Object(n.useCallback)((function(t){i({type:c.ADD_TODO,payload:t})}),[]),a=Object(n.useCallback)((function(t){i({type:c.REMOVE_TODO,payload:t})}),[]),u=Object(n.useCallback)((function(t){i({type:c.TOGGLE_TODO,payload:t})}),[]);return Object(s.jsxs)("div",{className:"todo-list",children:[Object(s.jsx)(O,{todoList:o.todoList,addTodo:d}),Object(s.jsx)(l,{todoList:o.todoList,removeTodo:a,toggleTodo:u})]})};var L=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(g,{})})},v=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,15)).then((function(e){var o=e.getCLS,c=e.getFID,n=e.getFCP,i=e.getLCP,d=e.getTTFB;o(t),c(t),n(t),i(t),d(t)}))};a.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(L,{})}),document.getElementById("root")),v()}},[[14,1,2]]]);
//# sourceMappingURL=main.9a3bfefc.chunk.js.map